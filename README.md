# Название проекта

Automation Google Test

## Описание

Проект позволяет запустить автоматические регрессионные тесты для главной страницы Google https://google.com, а так же
для различных элементов главной страницы

## Установка

Чтобы установить и запустить этот проект на локальном компьютере, выполните следующие шаги:

1. Скачайте проект в IDEA с помощью команды
   `git clone https://github.com/Crex114/playwrightTests.git`

## Использование

Весь функционал проекта расположен по пути `src/main/java/com.google` и `src/test`

1. Папка main содержит классы и методы, отвечающие за внутреннюю логику работы автотестов
2. Папка tests содержит тесты для главной страницы Google

## Как тестировать

Запуск тестов производится несколькими способами:
Способ 1:
   1. На MacOS выполнить команду `./gradlew clean test allureReport`. Аналогичная команда для Windows `gradle clean test allureReport`
Способ 2:
   1. Запуск отдельных методов, если нужно провести один конкретный тест. Путь к тестам `src/test/java/tests`
   2. Через таску `task parallelTest(type: Test)`, расположенную в файле `build.gradle` в корне проекта.
      Тесты запустятся согласно настройкам, указанным в xml файле в папке `src/test/resources`

## Как смотреть отчет о результатах тестирования

Для формирования отчета необходимо:
1. В консоли выполнить команду `./gradlew allureServe` для MacOS или `gradle allureServe` для Windows
или
1. В IDEA справа открыть Gradle
2. Пройти по пути `Tasks/verification` и запустить команду `allureServe`
3. После выполнения команды в браузере откроется отчет о пройденных тестах

### Решение возможных проблем (Для Windows)

Если тесты запускаются через таску `task parallelTest(type: Test)` и во вкладке Run отображается неверная кодировка,
необходимо сделать следующее:

1. Закрыть Intellij Idea
2. Найти и открыть файл `idea.exe.vmoptions`. Располагается по пути `C:\Program Files\JetBrains\IntelliJ IDEA 2018.3.2\bin`
3. Добавить строку `-Dfile.encoding=UTF-8`, сохранить
4. (Опционально) Если есть файл `idea64.exe.vmoptions`, необходимо в него добавить строку из пункта 3

Если при запуске тестов сразу возникают ошибки (проект не запускается), убедитесь, что в проекте нет
папок `out`, `allure-results`, `build`. Их необходимо удалить:

1. Через таску `task deleteCompileFolders(type: Delete)`, расположенную в файле `build.gradle` в корне проекта
2. Через Intellij Idea: в среде разработки жмем Gradle, далее по пути `Tasks/build` вызываем команду `clean`
3. Через команду `./gradlew clean` для MacOS или `gradle clean` для Windows

### Пути улучшения проекта

1. Работа с пропертями (настройка различных опций в файлах .properties)
2. Расширение тестового покрытия
3. Адаптация тестов под запуск в CI/CD
4. Добавление уровней тестирования (API, работа с БД)
